{% extends 'base.html.twig' %}

{% block title %}Hello ProfileController!
{% endblock %}

{% block body %}
	<style>
		form {
			background-color: rgba(33, 37, 41, 0.01);
			padding: 20px 0;
			border-radius: 14px;
		}
		form > .row > div {
			display: grid;
			grid-template-columns: [a] 30% [b] 70%;
		}
		.c-info__user {
			max-width: 1000px;
			width: 95%;
			margin: 1em auto;

		}
		#imgPerfil {
			width: 150px;
			margin:auto;
		}
	</style>

	<article class="c-info__user text-center">
		<h1>
			<i class="fa fa-user" aria-hidden="true"></i>
			{{ user }}
			<i class="fa fa-user" aria-hidden="true"></i>
		</h1>

		<div class="mt-3">
			<section class="c-container__formu">

				{{ form_start(registrationForm) }}

				<div class="row mt-2">
					{{ form_row(registrationForm.email) }}
				</div>

				{# <div class="row mt-2">
									{{ form_row(registrationForm.password, {
								label: 'Contraseña'
								}) }}
								</div> #}

				<div class="row mt-2">
					{{ form_row(registrationForm.nombre,{
						label: 'Nombre',
						required: false
					}) }}
				</div>

				<div class="row mt-2">
					{{ form_row(registrationForm.apellido1,{
						label: '1er Apellido',
						required: false
					}) }}
				</div>

				<div class="row mt-2">
					{{ form_row(registrationForm.apellido2,{
						label: '2º Apellido',
						required: false
					}) }}
				</div>

				<div class="row mt-2">
					<!-- LA IMAGEN -->
					<div>
						<img src="{{ asset('/images/uploads/' ~ user.getImagen() ) }}" alt="Imagen de perfil" height="60" id="imgPerfil"></img>
					</div>

					{{ form_row(registrationForm.imagen,{
						label: '',
						required: false
					}) }} 
				</div>

				<div class="row mt-2">
					{{ form_row(registrationForm.telefono,{
						label: 'Teléfono',
						required: false
					}) }}
				</div>


				<div class="row mt-2">
					{{ form_row(registrationForm.telegram_id,{
						label: 'Telegram',
						required: false
					}) }}
				</div>

				{# <input type="hidden" name="_target_path" value="/mesas"> #}
				<div class="m-3">
					{% for flash_message in app.session.flashbag.get('success') %}
						<div class="alert alert-success fade show text-center">
							<div class='w-100 d-flex flex-row justify-content-between'>
								<svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Success:"><use xlink:href="#check-circle-fill"/></svg>
								{{ flash_message }}
								<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
							</div>
						</div>
					{% endfor %}

					{% for flash_message in app.session.flashbag.get('error') %}
						<div class="alerta alerta--error ">
							{{ flash_message }}
						</div>
					{% endfor %}
				</div>

				<div class="row mt-3">
					<button type="submit" class="btn btn-primary col-12">Guardar cambios</button>
				</div>

				{{ form_end(registrationForm) }}

			</section>

		</div>

	</article>
{% endblock %}
